// Include any postdeployment steps here, such as steps necessary to test that the deployment was successful. If there are no postdeployment steps, leave this file empty.
=== Parameter reference

==== Parameters for deploying a {partner-product-short-name} cluster in a new VPC

[%autowidth.stretch]
.{partner-registry} configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`AcceptEULAs`
|Have all applicable VMware Tanzu Network EULAs been accepted?
|`No`
|Choose `Yes` if you have already accepted the https://network.tanzu.vmware.com/products/tanzu-cluster-essentials/[Cluster Essentials for VMware Tanzu] and https://network.tanzu.vmware.com/products/tanzu-application-platform/[VMWare Tanzu Application Platform] end-user license agreements (EULAs). TAP will fail to install successfully if both EULAs have not been accepted for the specified VMware Tanzu Network user account.

|`AcceptCEIP`
|Have you read and accept the VMware CEIP policy?
|`No`
|Choose `Yes` if you have read and accepted the https://www.vmware.com/solutions/trustvmware/ceip.html[VMware customer experience improvement program (CEIP) policy].

|`TanzuNetUsername`
|Username
|
|VMware Tanzu Network username. To create an account, sign up at https://account.run.pivotal.io/z/uaa/sign-up.

|`TanzuNetPassword`
|Password
|
|VMware Tanzu Network password.

|`TanzuApiToken`
|API Token
|
|VMware Tanzu Network user account and authentication (UAA) API refresh token. For more information, refer to https://network.pivotal.io/docs/api[VMWare Tanzu Network API Documentation].

|`TanzuNetRelocateImages`
|Relocate TAP images
|`No`
|Choose `Yes` to relocate TAP images from the VMware Tanzu Network registry to your ECR registry from before attempting installation. If you do not relocate images, Tanzu Application Platform will depend directly on the VMware Tanzu Network registry for its continued operation.
|====

[%autowidth.stretch]
.VMware Tanzu Application Platform configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`TAPVersion`
|Version
|
|

|`TAPDomainName`
|Domain name
|
|
|====

[%autowidth.stretch]
.Sample app configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`SampleAppName`
|
|
|
|====

[%autowidth.stretch]
.Basic configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`AvailabilityZones`
|Availability Zones
|
|

|`NumberOfAZs`
|Number of Availability Zones
|
|

|`KeyPairName`
|EC2 key pair name
|
|

|`RemoteAccessCidr1`
|Remote access CIDR
|
|
|====

[%autowidth.stretch]
.Default VPC configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`VPCCIDR`
|
|
|

|`PrivateSubnet1CIDR`
|
|
|

|`PrivateSubnet2CIDR`
|
|
|

|`PrivateSubnet3CIDR`
|
|
|

|`PublicSubnet1CIDR`
|
|
|

|`PublicSubnet2CIDR`
|
|
|

|`PublicSubnet3CIDR`
|
|
|
|====

[%autowidth.stretch]
.Amazon EKS configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`EKSClusterName`
|
|
|

|`KubernetesVersion`
|
|
|

|`NodeInstanceType`
|
|
|

|`NodeVolumeSize`
|
|
|

|`NumberOfNodes`
|
|
|

|`MaxNumberOfNodes`
|
|
|
|====

[%autowidth.stretch]
.Linux bastion host / bootstrap instance configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`LinuxBastionOS`
|
|
|

|`LinuxBastionSshPort`
|
|
|
|====

[%autowidth.stretch]
.AWS Quick Start S3 bucket configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`QSS3BucketName`
|
|
|

|`QSS3BucketRegion`
|
|
|

|`QSS3KeyPrefix`
|
|
|
|====

//Edit after completing new VPC parameters; open template I have locally to the side
==== Parameters for deploying a {partner-product-short-name} cluster in an existing VPC

[%autowidth.stretch]
.{partner-registry} configuration
|====
|Parameter |Parameter Label |Default Value |Description

|`AcceptEULAs`
|Have all applicable VMware Tanzu Network EULAs been accepted?
|`No`
|Choose `Yes` if you have already accepted the https://network.tanzu.vmware.com/products/tanzu-cluster-essentials/[Cluster Essentials for VMware Tanzu] and https://network.tanzu.vmware.com/products/tanzu-application-platform/[VMWare Tanzu Application Platform] end-user license agreements (EULAs). TAP will fail to install successfully if both EULAs have not been accepted for the specified VMware Tanzu Network user account.

|`AcceptCEIP`
|Have you read and accept the VMware CEIP policy?
|`No`
|Choose `Yes` if you have read and accepted the https://www.vmware.com/solutions/trustvmware/ceip.html[VMware customer experience improvement program (CEIP) policy].

|`TanzuNetUsername`
|Username
|
|VMware Tanzu Network username. To create an account, sign up at https://account.run.pivotal.io/z/uaa/sign-up.

|`TanzuNetPassword`
|Password
|
|VMware Tanzu Network password.

|`TanzuApiToken`
|API Token
|
|VMware Tanzu Network user account and authentication (UAA) API refresh token. For more information, refer to https://network.pivotal.io/docs/api[VMWare Tanzu Network API Documentation].

|`TanzuNetRelocateImages`
|Relocate TAP images
|`No`
|Choose `Yes` to relocate TAP images from the VMware Tanzu Network registry to your ECR registry from before attempting installation. If you do not relocate images, Tanzu Application Platform will depend directly on the VMware Tanzu Network registry for its continued operation.
|====

[%autowidth.stretch]
.VMware Tanzu Application Platform configuration
|====
|Parameter |Parameter Label |Default Value |Description

|TAPVersion
|
|
|

|TAPDomainName
|
|
|
|====

[%autowidth.stretch]
.Sample app configuration
|====
|Parameter |Parameter Label |Default Value |Description

|SampleAppName
|
|
|
|====

[%autowidth.stretch]
.Basic configuration
|====
|Parameter |Parameter Label |Default Value |Description

|AvailabilityZones
|
|
|

|NumberOfAZs
|
|
|

|KeyPairName
|
|
|

|RemoteAccessCidr
|
|
|
|====

[%autowidth.stretch]
.Default VPC configuration
|====
|Parameter |Parameter Label |Default Value |Description

|VPCCIDR
|
|
|

|PrivateSubnet1CIDR
|
|
|

|PrivateSubnet2CIDR
|
|
|

|PrivateSubnet3CIDR
|
|
|

|PublicSubnet1CIDR
|
|
|

|PublicSubnet2CIDR
|
|
|

|PublicSubnet3CIDR
|
|
|
|====

[%autowidth.stretch]
.Amazon EKS configuration
|====
|Parameter |Parameter Label |Default Value |Description

|EKSClusterName
|
|
|

|KubernetesVersion
|
|
|

|NodeInstanceType
|
|
|

|NodeVolumeSize
|
|
|

|NumberOfNodes
|
|
|

|MaxNumberOfNodes
|
|
|
|====

[%autowidth.stretch]
.Linux bastion host / bootstrap instance configuration
|====
|Parameter |Parameter Label |Default Value |Description

|LinuxBastionOS
|
|
|

|LinuxBastionSshPort
|
|
|
|====

[%autowidth.stretch]
.AWS Quick Start S3 bucket configuration
|====
|Parameter |Parameter Label |Default Value |Description

|QSS3BucketName
|
|
|

|QSS3BucketRegion
|
|
|

|QSS3KeyPrefix
|
|
|
|====

[%autowidth.stretch]
.Basic deployment configuration
|====
|Parameter Label |Default Value |Description

|Availability Zones
|*Requires input*
|List of Availability Zones to use for the subnets in the VPC.
Either two or three Availability Zones are used for this deployment.

|Number of Availability Zones
|3
|Number of Availability Zones to use in the VPC.
This must match the value entered for the Availability Zones parameter.

|Key Pair Name
|*Requires input*
|The name of the Amazon EC2 Key Pair that will be used for accessing the Linux and Windows bastion hosts, and the Amazon EKS cluster nodes.

|Remote access CIDR
|*Requires input*
|IPv4 CIDR block that will be allowed to connect to the Amazon EC2 Linux and Windows bastion host instances once deployed.
|====

[%autowidth.stretch]
.VPC network configuration
|====
|Parameter Label |Default Value |Description

|VPC CIDR
|10.0.0.0/16
|CIDR block for the VPC

|Private Subnet 1 CIDR
|10.0.0.0/19
|CIDR block for private subnet 1, located in Availability Zone 1.

|Private Subnet 2 CIDR
|10.0.32.0/19
|CIDR block for private subnet 2, located in Availability Zone 2.

|Private Subnet 3 CIDR
|10.0.64.0/19
|CIDR block for private subnet 3, located in Availability Zone 3.

|Public Subnet 1 CIDR
|10.0.128.0/20
|CIDR block for the public (DMZ) subnet 1, located in Availability Zone 1.

|Public Subnet 2 CIDR
|10.0.144.0/20
|CIDR block for the public (DMZ) subnet 2, located in Availability Zone 2.

|Public Subnet 3 CIDR
|10.0.160.0/20
|CIDR block for the public (DMZ) subnet 3, located in Availability Zone 3.
|====

[%autowidth.stretch]
.Amazon EKS configuration
|====
|Parameter Label |Default Value |Description

|EKS cluster name
|*Requires input*
|The name of the cluster that will be created to contain the {partner-product-short-name} deployment.

|Number of nodes
|4
|The number of nodes that will be the minimum and created for the {partner-product-short-name} EKS cluster.

|Maximum number of nodes
|6
|The maximum number of nodes that will be available in an auto scaling scenario for the {partner-product-short-name} EKS cluster.

|Instance Type
|m5.xlarge
|Amazon EC2 instance type for each of the nodes deployed within the {partner-product-short-name} EKS cluster.
|====

[%autowidth.stretch]
.{partner-product-name} configuration
|====
|Parameter Label |Default Value |Description

|{partner-product-short-name} domain name
|*Requires input*
|Domain name that can be used for access to {partner-product-name} and its corresponding project URLs.
Available within a private DNS Zone.
|====

[%autowidth.stretch]
.AWS Quick Start S3 bucket configuration
|====
|Parameter Label |Default Value |Description

|QSS3BucketName
|aws-quickstart
|Name of the S3 bucket for your copy of the Quick Start assets.
Keep the default name unless you are customizing the template.
Changing the name updates code references to point to a new Quick Start location.
This name can include numbers, lowercase letters, uppercase letters, and hyphens, but do not start or end with a hyphen (-).
See https://aws-quickstart.github.io/option1.html.

|QSS3KeyPrefix
|quickstart-vmware-tanzu-application-platform/
|S3 key prefix that is used to simulate a directory for your copy of the Quick Start assets.
Keep the default prefix unless you are customizing the template.
Changing this prefix updates code references to point to a new Quick Start location.
This prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slashes (/).
End with a forward slash.
See https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html and https://aws-quickstart.github.io/option1.html.

|QSS3BucketRegion
|{default_deployment_region}
|AWS Region where the Quick Start S3 bucket (QSS3BucketName) is hosted.
Keep the default Region unless you are customizing the template.
Changing this Region updates code references to point to a new Quick Start location.
When using your own bucket, specify the Region.
See https://aws-quickstart.github.io/option1.html.
|====

== Postdeployment steps

The following values should be available to use from the *Outputs* tab:

. The Elastic IP addresses associated with the Amazon EC2 Linux and Windows bastion host instances.
. The {partner-product-short-name} website GUI URL that you can access from the Windows bastion host instance.

After you successfully deploy this Quick Start, confirm that your resources and services are updated and configured — including any required patches — to meet your security and other needs. For more information, see the https://aws.amazon.com/compliance/shared-responsibility-model/[AWS Shared Responsibility Model].

=== Access the GUI

The {partner-product-name} website graphical user interface (GUI) can be accessed via the Amazon EC2 Windows bastion host instance that is deployed into one of the public subnets.
Retrieve the password for the Windows bastion host instance using https://aws.amazon.com/premiumsupport/knowledge-center/retrieve-windows-admin-password/[this guide], and then connect to it using https://docs.aws.amazon.com/AWSEC2/latest/WindowsGuide/connecting_to_windows_instance.html[this guide].
The Windows bastion host is intended for users to access the {partner-product-short-name} URL provided within the Outputs tab of the CloudFormation deployment, once the {partner-product-short-name} installation is complete.
The {partner-product-name} GUI is not available via a public URL, but you can connect a Site to Site VPN or AWS Direct Connect to the VPC to allow for direct access from your enterprise network.
